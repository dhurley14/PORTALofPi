sudo apt install unattended-upgrades

# when it's done, replace /etc/apt/apt.conf.d/50unattended-upgrades 
# with the following

sudo cp 50unattended-upgrades /etc/apt/apt.conf.d/

# add the auto-updating stuff
sudo touch /etc/apt/apt.conf.d/20auto-upgrades
cat > /etc/apt/apt.conf.d/20auto-upgrades << __PERIOD__
APT::Periodic::Update-Package-Lists "1";
APT::Periodic::Unattended-Upgrade "1";

__PERIOD__


# run this http://raspberrypi.stackexchange.com/a/23223
# this will remove basically everything on Raspbian that isn't
# directly related to the OS's operations
# I can't currently ssh into the pi after running thi
# and I don't think it has anything to do with me dropping forwarding in
# /etc/sysctl.conf
sudo apt-get install deborphan
sudo apt-get autoremove --purge libx11-.* lxde-.* raspberrypi-artwork xkb-data omxplayer penguinspuzzle sgml-base xml-core alsa-.* cifs-.* samba-.* fonts-.* desktop-* gnome-.*
sudo apt-get autoremove --purge $(deborphan)
sudo apt-get autoremove --purge
sudo apt-get autoclean
